(self.webpackChunkweb=self.webpackChunkweb||[]).push([[577],{490:(e,t,n)=>{"use strict";n.d(t,{X:()=>q});var a=n(8),i=n.n(a),c=n(9713),r=n.n(c),o=n(4575),l=n.n(o),s=n(3913),u=n.n(s),d=n(2205),_=n.n(d),f=n(8585),h=n.n(f),p=n(9754),v=n.n(p),m=n(7065),y=n(1646),k=n(9018),E=n(6200),b=n(7920),S=n(9232),C=n(6810),L=n(4766),g=n(2608),w=n(5612),O=n(2130),T=n(5328);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R="\n<div id=data-container>\n    <div id=data-options>\n        <div id=data-command>\n            <button class=output-header-btn id=save-data-button>Save</button>\n            <button class=output-header-btn id=clean-data-button>Clear</button>\n            <button class=output-header-btn id=show-hide-filter-button>Filters</button>\n            <label id=roll-auto-label><input type=checkbox id=roll-auto-box>Auto-roll</label>\n            <select id=data-container-type></select>\n            <button class=output-header-btn id=custom-paint-button></button>\n            <select id=data-view-container></select>\n        </div>\n        <div id=filter-row-container></div>\n        <div id=select-colunm-container></div>\n    </div>\n    <pre id=data-received></pre>\n    <div id=data-received-container-go-bottom></div>\n</div>",j=document.createElement("template");j.innerHTML="\n<li data-action=detail>Details</li>\n<li data-action=delete>Delete</li>";var q=286!=n.j?function(e){_()(c,e);var t,n,a=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=v()(t);if(n){var i=v()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return h()(this,e)});function c(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l()(this,c),(n=a.call(this))._model=e,n._container=t,n._container.innerHTML=R,n._data_container=n._container.querySelector("#data-received"),n._table_container=null,n._data_container_type=n._container.querySelector("#data-container-type"),n._data_container_type.addEventListener("change",(function(){n.emit(y.Mk.CHANGE_STATE,n.state()),n._data_options.data_format=n.type()})),n._context_menu=i.context_menu,Object.values(y.uw).forEach((function(e){var t=document.createElement("option");t.value=e.value,t.textContent=e.name,"default"in e&&!0===e.default&&(t.selected=!0),n._data_container_type.appendChild(t)})),n._data_options=M(M({},{time_format:L.Cu.TIME.value,time_precision:L.Ec.MILISECONDS.value,data_format:n.type(),select:null,stringify:!1}),i),n._auto_roll_check=n._container.querySelector("#roll-auto-box"),n.auto_roll(!0),n._auto_roll_check.addEventListener("click",(function(){n.scroll_to_bottom(!0),n.emit(y.Mk.CHANGE_STATE,n.state())})),n._container.querySelector("#save-data-button").addEventListener("click",(function(){return n.open_save_menu()})),n._container.querySelector("#clean-data-button").addEventListener("click",(function(){return n.emit(y.Mk.CLEAR)})),n._set_filter_button(),n._set_scroll(),n._custom_paint=null,n._make_custom_paint(),n._model.on(y.Mk.POST,(function(e){return n.insert_data(e)})).on(y.Mk.PREPEND,(function(e){return n.prepend_data(e)})).on(y.Mk.CLEAR,(function(e){return n.clear(e)})).on(y.Mk.MAKE_OUTPUT,(function(e){return n.make_output(e)})).on(y.Mk.SELECT,(function(e){return n.select(e)})).on(y.Mk.FILTER,(function(e){return n._set_line_filter_attr(e.container,e.filter)})).on(y.Mk.DELETE,(function(e){return n.remove(e)})).on(y.Mk.SERVER_NAME_CHANGE,(function(e){return n.update_server_name(e)})).on(y.Mk.MESSAGE_SELECT,(function(e){return n.data_details(e)})),n._adapt_table=new T.p(y.WA),n}return u()(c,[{key:"init",value:function(){var e=this._container.querySelector("#data-view-container");this.emit(y.Mk.RENDER,{filter:this._container.querySelector("#filter-row-container"),select:this._container.querySelector("#select-colunm-container"),view:e}),k.e||(e.disabled=!0,e.title="Only working at Chrome"),this._data_container.appendChild(this._make_template_table()),this._data_options.select=this._model.select.columns()}},{key:"open_save_menu",value:function(){var e=document.createElement("my-modal");e.id="modal-file-save",new S.K(this._model.data,e,Object.assign({},this._data_options,{filter:this._model.filter.get(),select:this._model.select.select(),custom_paint:this._custom_paint.config()})),document.body.appendChild(e),e.show=!0,e.addEventListener("close",(function(t){e.show=!1,e.parentElement.removeChild(e)}))}},{key:"_make_template_table",value:function(){var e=this;this._adapt_table.init();var t=document.createElement("table");t.id="data-table";var n=document.createElement("thead");n.id="data-table-header",document.createElement("tr");var a={};return this._model.select.columns().forEach((function(t){var i=document.createElement("th"),c=e._model.select.is_selected(t);i.classList.add("select-col"),i.classList.add(t),i.setAttribute("data-selected","".concat(c)),i.dataset.column=t,i.title=C.zF[t].description,i.textContent=C.zF[t].name,a[t]=i,n.appendChild(i)})),n.addEventListener("click",(function(t){var n=(0,k.I)(t);n[0].dataset.column&&e._model.select.remove(n[0].dataset.column)})),this._adapt_table.update_headers(a),this._adapt_table.set_all(),t.appendChild(n),this._table_container=document.createElement("tbody"),this._table_container.id="data-table-body",this._table_container.addEventListener("click",this.select_line.bind(this)),this._table_container.addEventListener("contextmenu",this.context_menu.bind(this)),t.appendChild(this._table_container),t}},{key:"_make_context_menu",value:function(e){var t=this,n=document.createElement("lu");return n.classList.add("context-menu-data"),n.appendChild(j.content.cloneNode(!0)),n.addEventListener("click",(function(n){if(n.target.dataset.action)switch(n.target.dataset.action){case"detail":t.emit(y.Mk.MESSAGE_SELECT,e);break;case"delete":t.emit(y.Mk.DELETE,e)}})),n}},{key:"context_menu",value:function(e){e.preventDefault();for(var t=null,n=e.target;n!==this._table_container;){if(n.classList.contains("filter-line")){t=n;break}n=n.parentNode}t&&(this._context_menu.make(this._make_context_menu(t),e,!0),e.stopPropagation())}},{key:"select_line",value:function(e){if(e.preventDefault(),this._context_menu&&this._context_menu.showing)this._context_menu.hide();else{for(var t=null,n=e.target;n!==this._table_container;){if(n.classList.contains("filter-line")){t=n;break}n=n.parentNode}t&&this.emit(y.Mk.MESSAGE_SELECT,t)}}},{key:"data_details",value:function(e){var t=this,n=document.createElement("my-modal");n.id="modal-data-details";var a=(0,b.q)(e.data,Object.assign({},this._data_options));n.appendChild(a),document.body.appendChild(n),n.addEventListener("close",(function(e){n.parentNode.removeChild(n)})),a.tabIndex=-1,a.focus(),a.addEventListener("keyup",(function(a){switch(a.code){case"ArrowLeft":t.previous_details(e.container,n);break;case"ArrowRight":t.next_details(e.container,n);break;case"Escape":n.show=!1,n.parentNode.removeChild(n)}})),a.addEventListener("click",(function(a){switch(a.path[0].dataset.value){case"delete":t.emit(y.Mk.DELETE,e.container),n.show=!1,n.parentNode.removeChild(n);break;case"left":t.previous_details(e.container,n);break;case"right":t.next_details(e.container,n)}})),n.show=!0}},{key:"previous",value:function(e){for(var t=e.previousElementSibling;null!==t;t=t.previousElementSibling)if("true"==t.dataset.filter)return t;return null}},{key:"next",value:function(e){for(var t=e.nextElementSibling;null!==t;t=t.nextElementSibling)if("true"==t.dataset.filter)return t;return null}},{key:"previous_details",value:function(e,t){var n=this.previous(e);n&&(t.show=!1,t.parentNode.removeChild(t),this.emit(y.Mk.MESSAGE_SELECT,n))}},{key:"next_details",value:function(e,t){var n=this.next(e);n&&(t.show=!1,t.parentNode.removeChild(t),this.emit(y.Mk.MESSAGE_SELECT,n))}},{key:"clear",value:function(){this._data_container.innerHTML="",this._data_container.append(this._make_template_table())}},{key:"remove",value:function(e){e.container.parentNode&&e.container.parentNode.removeChild(e.container)}},{key:"prepend_data",value:function(e){this._table_container.prepend(e.container),this.scroll_to_bottom(!0)}},{key:"insert_data",value:function(e){this._table_container.appendChild(e.container),this.scroll_to_bottom(!0)}},{key:"type",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==t&&this._data_container_type.querySelectorAll("option").forEach((function(n,a){n.value===t&&(e._data_container_type.selectedIndex=a,e._data_options.data_format=n.value)})),this._data_container_type.selectedOptions[0].value}},{key:"state",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e&&(this.auto_roll(e.auto_roll),this.type(e.type)),{auto_roll:this.auto_roll(),type:this.type()}}},{key:"update_server_name",value:function(e){var t=e.container.querySelector(".sname");t.textContent=e.data.sname,this._adapt_table.check("sname",t)}},{key:"update_time",value:function(e){var t=this;this._data_options.time_format=e.format,this._data_options.time_precision=e.precision,this._data_container.querySelectorAll("td.time").forEach((function(n,a){n.textContent=L.uc.format(n.dataset.time,e.format,e.precision),0===a&&t._adapt_table.check("time",n)}))}},{key:"_set_col_select_attr",value:function(e,t){this._model.select.is_selected(t)?this._show_column(e):this._hide_column(e)}},{key:"_set_line_filter_attr",value:function(e,t){e.setAttribute("data-filter","".concat(t))}},{key:"make_output",value:function(e){e.container=this._make_table_line(e)}},{key:"_make_table_line",value:function(e){var t=this,n=document.createElement("tr");n.classList.add("filter-line"),this._set_line_filter_attr(n,e.filter),Promise.resolve([e.data,n]).then((function(e){t._custom_paint.filter_set(e[0],e[1])}));var a=(0,E.Je)(e.data,this._data_options);return this._model.select.columns().forEach((function(i){var c=document.createElement("td");c.classList.add(i,"select-col"),t._set_col_select_attr(c,i),"payload"!==i?t._make_cell(c,i,a[i],e.data[i]):c.appendChild(t._make_payload(a[i],a.payload_type)),t._adapt_table.check(i,c),n.appendChild(c)})),n}},{key:"_make_cell",value:function(e,t,n,a){return e.textContent=n,"time"==t?(e.title=L.uc.format(a,L.Cu.DATETIME.value,L.Ec.MICROSECONDS.value),e.dataset.time=a):t in y.WA&&"id"!==t&&e.classList.add("flex-field"),e}},{key:"_make_payload",value:function(e,t){var n=document.createElement("div");return n.classList.add("payload-container"),t&&(n.title=t),e?e instanceof Array?(e.forEach((function(t,a){var i=document.createElement("span");i.classList.add("payload-item"),a===e.length-1&&i.classList.add("payload-last-field"),i.textContent=t,n.appendChild(i)})),n):(n.textContent=e,n):n}},{key:"auto_roll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null!==e&&(this._auto_roll_check.checked=Boolean(e),this.scroll_to_bottom()),this._auto_roll_check.checked}},{key:"scroll_to_bottom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&!this.auto_roll()||(this._data_container.scrollTop=this._data_container.scrollHeight)}},{key:"select",value:function(e){var t=this;this._model.select.columns().forEach((function(n){var a=t._data_container.querySelector("#data-table-header").querySelector("."+n),i="true"===a.dataset.selected,c=null!=e.find((function(e){return e===n}));i!=c&&(c?(t._show_column(a),t._table_container.querySelectorAll(".".concat(n)).forEach((function(e){return t._show_column(e)}))):(t._hide_column(a),t._table_container.querySelectorAll(".".concat(n)).forEach((function(e){return t._hide_column(e)}))))}))}},{key:"_show_column",value:function(e){e.dataset.selected=!0}},{key:"_hide_column",value:function(e){e.dataset.selected=!1}},{key:"_set_filter_button",value:function(){var e=this._container.querySelector("#show-hide-filter-button"),t=this._container.querySelector("#filter-row-container"),n=this._container.querySelector("#select-colunm-container");e.onclick=function(a){"none"===t.style.display?(e.classList.remove("not-pressed-btn"),e.classList.add("pressed-btn"),t.style.display="block",n.style.display="block"):(e.classList.remove("pressed-btn"),e.classList.add("not-pressed-btn"),t.style.display="none",n.style.display="none")},e.dispatchEvent(new Event("click"))}},{key:"add_custom_paint",value:function(e,t){console.assert("object"===i()(e)&&"object"===i()(t),'Arguments must be "object"'),this._custom_paint.add_custom(e,t)}},{key:"set_data_custom_paint",value:function(){var e=this;return new Promise((function(){return e._model.data.forEach((function(t){e._custom_paint.filter_set(t.data,t.container)}))}))}},{key:"config_custom_paint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null!==e){var n=this._custom_paint.config(e,t);return this.set_data_custom_paint(),n}return this._custom_paint.config()}},{key:"_make_custom_paint",value:function(){var e=this,t=document.createElement("my-modal");t.id="modal-custom-paint",document.body.appendChild(t),this._custom_paint=new g.b(t),this._container.querySelector("#custom-paint-button").addEventListener("click",(function(e){t.show=!0})),this._custom_paint.on(O.$l.RENDER_DATA,(function(){e.set_data_custom_paint(),e.emit(y.Mk.CUSTOM_PAINT,e._custom_paint.config())})).on(w.jK.CHANGE_STYLE_VIEW,(function(){e.set_data_custom_paint(),e.emit(y.Mk.CUSTOM_PAINT,e._custom_paint.config())})).on(w.jK.ADD_CUSTOM,(function(){return e.emit(y.Mk.CUSTOM_PAINT,e._custom_paint.config())})).on(w.jK.REMOVE_CUSTOM,(function(){return e.emit(y.Mk.CUSTOM_PAINT,e._custom_paint.config())})),this.on(O.$l.RENDER_FILTER,(function(t){return e._custom_paint.emit(O.$l.RENDER_FILTER,t)})),this._custom_paint.render()}},{key:"_set_scroll",value:function(){var e=this,t=this._container.querySelector("#data-received-container-go-bottom");t.style.display="none",t.onclick=function(t){return e.scroll_to_bottom()};var n=null;this._data_container.addEventListener("scroll",(function(a){e._data_container.scrollHeight-e._data_container.scrollTop===e._data_container.clientHeight?(clearTimeout(n),n=setTimeout((function(){t.style.display="none"}),100)):(clearTimeout(n),n=setTimeout((function(){t.style.display="block"}),100))}))}},{key:"custom_paint",get:function(){return this._custom_paint}}]),c}(m.I):null},4753:(e,t,n)=>{"use strict";n.d(t,{F:()=>p});var a=n(4575),i=n.n(a),c=n(3913),r=n.n(c),o=n(2205),l=n.n(o),s=n(8585),u=n.n(s),d=n(9754),_=n.n(d),f=n(7065),h=n(1755);n(1584);var p=286!=n.j?function(e){l()(c,e);var t,n,a=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=_()(t);if(n){var i=_()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return u()(this,e)});function c(e,t){var n;return i()(this,c),(n=a.call(this))._model=e,n._container=t,n._container.addEventListener("change",(function(e){n.emit(h.xB.OPEN_VIEW,n._container.selectedOptions[0].value),n._container.selectedIndex=0})),n._model.on(h.xB.REGISTER_VIEW,(function(e){return n.render()})).on(h.xB.OPEN_VIEW,(function(e){return n.open_view(e)})),n.render(),window.addEventListener("beforeunload",(function(e){n._model.opened_views.forEach((function(e){return e.window().close()}))})),n}return r()(c,[{key:"render",value:function(){var e=this;if(this._container.innerHTML="",0===Object.keys(this._model._views).length){var t=document.createElement("option");return t.textContent="No views",t.style.display="none",void this._container.appendChild(t)}var n=document.createElement("option");n.value="null",n.textContent="Views",n.style.display="none",this._container.appendChild(n),Object.keys(this._model._views).forEach((function(t){var n=document.createElement("option");n.value=t,n.textContent=t,e._container.appendChild(n)}))}},{key:"open_view",value:function(e){var t=this,n="scrollbars=yes,resizable=yes";window.screen&&(n+=",width=".concat(Math.floor(80*window.screen.availWidth/100)),n+=",height=".concat(Math.floor(80*window.screen.availHeight/100)));var a=window.open("","_blank",n);a.document.open(),a.document.write((0,h.ew)(e.name)),a.document.close(),e.window(a),e.render(a.document.body),a.addEventListener("unload",(function(n){return t.emit(h.xB.REMOVE_VIEW,e)}))}}]),c}(f.I):null},7565:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var a=n(4575),i=n.n(a),c=n(3913),r=n.n(c),o=n(2205),l=n.n(o),s=n(8585),u=n.n(s),d=n(9754),_=n.n(d),f=n(7065),h=n(1584);var p=286!=n.j?function(e){l()(c,e);var t,n,a=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=_()(t);if(n){var i=_()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return u()(this,e)});function c(e,t){var n;i()(this,c),(n=a.call(this))._model=e,n._container=t,n._model.on(h.r.RENDER,(function(e){return n.render(e)})),n._container.onchange=function(e){n._container.title=n._model._id_from_value(e.target.options[e.target.selectedIndex].value).full_name(),n.emit(h.r.CHANGE_ID,e.target.options[e.target.selectedIndex].value)};var r=new MutationObserver((function(e){var t=e[e.length-1];n.emit(h.r.CHANGE_ID,n._check_selected(t.target.options[t.target.selectedIndex])),r.takeRecords()}));return r.observe(n._container,{childList:!0}),n}return r()(c,[{key:"render",value:function(e){var t=this;this._container.innerHTML="";var n=this._model.list(),a=!1;if(Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(i){if(n[e][i].length){var c=document.createElement("optgroup");c.label="".concat(e,":").concat(i),n[e][i].forEach((function(e){var n=document.createElement("option");n.textContent=e.name(),n.value=t._model.make_value(e),n.title=e.full_name(),t._model.selected()&&e.is_equal(t._model.selected())&&(n.selected=!0,t._container.title=e.full_name()),c.appendChild(n),a=!0})),t._container.appendChild(c)}}))})),!a){var i=document.createElement("option");i.classList.add("no-id-avaliable"),i.textContent="No ID avaliable",i.value="null",this._container.title="",this._container.appendChild(i)}}},{key:"_check_selected",value:function(e){return e?e.value:e}}]),c}(f.I):null},702:(e,t,n)=>{"use strict";n.d(t,{h:()=>y});var a=n(4575),i=n.n(a),c=n(3913),r=n.n(c),o=n(2205),l=n.n(o),s=n(8585),u=n.n(s),d=n(9754),_=n.n(d),f=n(7065),h=n(2608),p=n(5612),v=n(8161),m=n(1925);var y=286!=n.j?function(e){l()(c,e);var t,n,a=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=_()(t);if(n){var i=_()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return u()(this,e)});function c(e,t){var n;return i()(this,c),(n=a.call(this))._model=e,n._container=t,n._model.on(p.jK.CHANGE_STYLE,(function(e){return n.change_style(e)})).on(p.jK.ADD_CUSTOM,(function(e){return n.add_custom(e)})).on(p.jK.REMOVE_CUSTOM,(function(e){return n.remove_custom(e)})),n}return r()(c,[{key:"render",value:function(){var e=this;this._container.innerHTML=p.u4,this._model.defaulte().configure(this._container.querySelector("#default-filter-table")),this._model.hover().configure(this._container.querySelector("#default-filter-table")),this._model._custom.forEach((function(t){e.add_custom(t)})),this._container.querySelector("#button-add-custom-filter").onclick=function(t){e.emit(p.jK.ADD_CUSTOM)}}},{key:"change_style",value:function(e){"default"==e.type&&this._model.defaulte().configure(this._container.querySelector("#default-filter-table")),"hover"==e.type&&this._model.hover().configure(this._container.querySelector("#default-filter-table")),this.emit(p.jK.CHANGE_STYLE_VIEW)}},{key:"add_custom",value:function(e){e.configure(this._container.querySelector("#custom-filter-table")),this.emit("render_data")}},{key:"remove_custom",value:function(e){var t=this._container.querySelector("#custom-filter-table"),n=(0,h.k)(e),a=t.querySelector("#".concat(n,"-line"));a&&(a.outerHTML="");var i=t.querySelector("#".concat(n,"-line2"));i&&(i.outerHTML="")}},{key:"_render_custom_filter",value:function(e){var t=this,n=this._container.querySelector("#custom-filter-table"),a=(0,h.k)(e),i=(0,m.WW)((0,v._)("<a class=configure-delete-custom-filter>&times;</a>",a));i.querySelector("td").setAttribute("rowspan",2),n.appendChild(i);var c=(0,m.WW)("<tr id=".concat(a,"-line2><td colspan=7>><div></div></td></tr>"));return n.appendChild(c),i.querySelector("a").onclick=function(n){t.remove_custom(e),t.emit(p.jK.REMOVE_CUSTOM,e)},c.querySelector("div")}}]),c}(f.I):null},6001:(e,t,n)=>{"use strict";n.d(t,{W:()=>S});var a=n(9713),i=n.n(a),c=n(4575),r=n.n(c),o=n(3913),l=n.n(o),s=n(2205),u=n.n(s),d=n(8585),_=n.n(d),f=n(9754),h=n.n(f),p=n(7065),v=n(2130),m=n(5334),y=n(2124),k=n(9018);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){u()(i,e);var t,n,a=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=h()(t);if(n){var i=h()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return _()(this,e)});function i(e,t){var n,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r()(this,i),(n=a.call(this))._model=e,n._container=t;var o=n._container.attachShadow({mode:"open"});o.appendChild(y.d.content.cloneNode(!0)),n._filter_container=o.querySelector("#filter-list");var l=b(b({},v.PQ),c);return n._recursevely_check=null,n._unselect_check=null,l.commands&&n._make_filter_commands(l,o),l.recursive||(n._recursevely_check={checked:Boolean(l.recursive_checked)}),l.unselect||(n._unselect_check={checked:Boolean(l.unselect_check)}),n._model.on(v.$l.RENDER_FILTER,(function(e){n._check_new_opts(),n._add_sid_options()})).on(v.$l.SET_FILTER,(function(e){n._check_set_filters(),n._check_set_sid_filters()})),n.render(),n}return l()(i,[{key:"render",value:function(){var e=this,t=this._model.filter_options();Object.keys(v.W_).forEach((function(n){if(t[n]instanceof Array){var a=document.createElement("span");a.id="filter-".concat(n),a.classList.add("filter-row-attr"),a.title=v.W_[n].description,t[n].forEach((function(t){return e._add_property(n,t,a)})),e._filter_container.appendChild(a)}})),this._add_sid_options(),this._filter_container.addEventListener("click",(function(t){var n=(0,k.I)(t);if("value"in n[0].dataset){var a=JSON.parse(n[0].dataset.value);e.select(n[0].classList.contains("filter-selected")?"remove":"add",a.prop,a.value)}}))}},{key:"select",value:function(e,t,n){this.emit(this.emit(v.$l.SET_FILTER,{input:n,key:t,act:e,recursevely:this._recursevely_check.checked,unselect:this._unselect_check.checked}))}},{key:"_add_sid_sessions",value:function(e){var t=this,n=this._model.filter_options();if(e in n.session){var a=this._filter_container.querySelector("#filter-sid".concat(e,"-session"));if(a){var i=Array.from(a.values());n.session[e].forEach((function(n){var c=i.find((function(e){return e.value==="".concat(n)}));c||(c=a.add_checkbox(n).querySelector("input")),c.checked=!!t._model.is_selected(["session",e],n)}))}}}},{key:"_add_sid_options",value:function(){var e=this,t=this._model.filter_options();Object.keys(t.sid).forEach((function(n){var a,i=e._filter_container.querySelector("#filter-sid".concat(n));if(i)a=i.querySelector(".filter-sid-app");else{(i=document.createElement("span")).classList.add("filter-row-attr"),i.id="filter-sid".concat(n);var c=document.createElement("button");c.classList.add("filter-button","filter-button-sid"),c.textContent=n,c.dataset.value=JSON.stringify({prop:["sid"],value:n}),e._check_selected(["sid"],n,c),i.appendChild(c);var r=document.createElement("select-checkbox");r.label="#",r.title="".concat(n,"'s sessions"),r.id="filter-sid".concat(n,"-session"),r.addEventListener("change",(function(t){var a=(0,k.I)(t.detail);e.select(a[0].checked?"add":"remove",["session",n],a[0].value)})),(a=document.createElement("span")).classList.add("filter-sid-app"),i.appendChild(r),i.appendChild(a),e._filter_container.appendChild(i)}e._add_sid_sessions(n),e._add_sid_app(t,n,a)}))}},{key:"_add_sid_app",value:function(e,t,n){var a=this;Object.keys(e.sid[t]).forEach((function(i){var c=n.querySelector("#filter-sid".concat(t,"-app-").concat(i));if(!c){(c=document.createElement("span")).id="filter-sid".concat(t,"-app-").concat(i),c.classList.add("filter-sid-app-id");var r=document.createElement("button");r.classList.add("filter-button","filter-button-app"),r.textContent=i,r.dataset.value=JSON.stringify({prop:["app",t],value:i}),a._check_selected(["app",t],i,r),c.appendChild(r),n.appendChild(c)}a._add_sid_app_id(e,t,i,c)}))}},{key:"_add_sid_app_id",value:function(e,t,n,a){var i=this;e.sid[t][n].forEach((function(e){var c=a.querySelector("[data-id='".concat(e,"']"));c||((c=document.createElement("button")).classList.add("filter-button","filter-button-id","filter-sid".concat(t,"-app-").concat(n)),c.textContent=e,c.dataset.value=JSON.stringify({prop:["id",t,n],value:e}),c.dataset.id=e,i._check_selected(["id",t,n],e,c),a.appendChild(c))}))}},{key:"_add_property",value:function(e,t,n){if(!n.querySelector("#filter-".concat(e,"-").concat(t))){var a=document.createElement("button");a.id="filter-".concat(e,"-").concat(t),a.classList.add("filter-button"),a.textContent=this._get_text(e,t),a.dataset.value=JSON.stringify({prop:[e],value:t}),this._check_selected([e],t,a),n.appendChild(a)}}},{key:"_get_text",value:function(e,t){switch(e){case v.W_.dir.value:return m.kc[t].name;case v.W_.type.value:return m.DI[t].name;case v.W_.ctype.value:return m.$M[t].name}return t}},{key:"_check_selected",value:function(e,t,n){this._model.is_selected(e,t)?(n.classList.add("filter-selected"),n.classList.remove("filter-unselected")):(n.classList.add("filter-unselected"),n.classList.remove("filter-selected"))}},{key:"_check_new_opts",value:function(){var e=this,t=this._model.filter_options();Object.keys(t).forEach((function(n){if(t[n]instanceof Array){var a=e._filter_container.querySelector("#filter-".concat(n));a&&t[n].forEach((function(t){return e._add_property(n,t,a)}))}}))}},{key:"_check_set_filters",value:function(){var e=this,t=this._model._filter_opts;Object.keys(t).forEach((function(n){if(t[n]instanceof Array){var a=e._filter_container.querySelector("#filter-".concat(n));if(!a)return;a.querySelectorAll("[data-value]").forEach((function(t){var n=JSON.parse(t.dataset.value);e._check_selected(n.prop,n.value,t)}))}}))}},{key:"_check_set_sid_filters",value:function(){var e=this,t=this._model._filter_opts;Object.keys(t.sid).forEach((function(t){var n=e._filter_container.querySelector("#filter-sid".concat(t));n&&n.querySelectorAll("[data-value]").forEach((function(t){var n=JSON.parse(t.dataset.value);e._check_selected(n.prop,n.value,t)}))}))}},{key:"_make_filter_commands",value:function(e,t){var n=this,a=document.createElement("div");if(a.id="filter-commands",t.appendChild(a),e.clear){var i=document.createElement("button");i.textContent="clear",i.addEventListener("click",(function(e){return n.emit(v.$l.SET_FILTER,{act:"clear"})})),a.appendChild(i)}if(e.recursive){var c=document.createElement("label");c.innerHTML="<input type=checkbox class=filter-recursevely-check>Recursive",this._recursevely_check=c.querySelector(".filter-recursevely-check"),this._recursevely_check.checked=Boolean(e.recursive_checked),a.appendChild(c)}if(e.unselect){var r=document.createElement("label");r.innerHTML="<input type=checkbox class=filter-unselect-check>Unselect",this._unselect_check=r.querySelector(".filter-unselect-check"),this._unselect_check.checked=Boolean(e.unselect_checked),a.appendChild(r)}}}]),i}(p.I)},9589:(e,t,n)=>{"use strict";n.d(t,{U:()=>p});var a=n(4575),i=n.n(a),c=n(3913),r=n.n(c),o=n(2205),l=n.n(o),s=n(8585),u=n.n(s),d=n(9754),_=n.n(d),f=n(7065),h=n(6810);var p=286!=n.j?function(e){l()(c,e);var t,n,a=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=_()(t);if(n){var i=_()(this).constructor;e=Reflect.construct(a,arguments,i)}else e=a.apply(this,arguments);return u()(this,e)});function c(e,t){var n;i()(this,c),(n=a.call(this))._model=e,n._container=t;var r=n._container.attachShadow({mode:"open"});return r.innerHTML=h.dy,n._select_container=r.querySelector("#container"),n._model.on(h.$r.SET_SELECTED,(function(e){return n.select(e)})),n}return r()(c,[{key:"render",value:function(e){var t=this;this._select_container.innerHTML="",this._model.columns().forEach((function(e){var n=document.createElement("button");n.setAttribute("class","sel-button"),n.textContent=e,n.dataset.value=e,n.title=h.zF[e].description,n.addEventListener("click",(function(n){return t.emit(h.$r.SET_SELECTED,{type:t._model.is_selected(e)?h.jx.REMOVE:h.jx.ADD,column:e})})),t._select_container.appendChild(n)})),this.select(this._model.select())}},{key:"select",value:function(e){var t=this;this._select_container.querySelectorAll(".sel-button").forEach((function(e){return t._set_selected_class(e,t._model.is_selected(e.dataset.value))}))}},{key:"_set_selected_class",value:function(e,t){t?(e.classList.add("sel-selected"),e.classList.remove("sel-unselected")):(e.classList.add("sel-unselected"),e.classList.remove("sel-selected"))}}]),c}(f.I):null}}]);